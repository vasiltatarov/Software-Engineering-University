using System;
using System.Diagnostics;
using System.Linq;

namespace ParallelMergeSort
{
    class Program
    {
        static void Main(string[] args)
        {
            var arr = new int[] { 9054, 7087, 1681, 38, 8277, 8081, 2835, 4369, 144, 8453, 8939, 7436, 8377, 2488, 3645, 4240, 8628, 1626, 9766, 7943, 2175, 1451, 1413, 2631, 3700, 1085, 9856, 2560, 2371, 8268, 4125, 4684, 5775, 5087, 8243, 9911, 9807, 342, 8063, 8488, 9161, 4559, 7595, 3476, 8940, 4969, 1510, 1631, 3179, 7290, 9039, 359, 3550, 4970, 9692, 8473, 7014, 5828, 7272, 6779, 6806, 121, 5485, 6025, 3950, 1235, 1420, 9304, 5286, 7934, 1014, 2627, 7989, 5947, 6440, 3847, 3530, 9998, 1205, 2622, 114, 5439, 8511, 1447, 5263, 8171, 1173, 2121, 1819, 1273, 4113, 6861, 1223, 6975, 1405, 1353, 1734, 2123, 896, 1157, 2638, 7173, 4057, 7606, 5986, 7834, 2409, 2682, 4359, 6332, 7418, 6027, 7765, 4945, 2245, 6946, 9017, 6948, 8207, 2717, 3430, 7832, 9123, 5438, 8060, 3111, 8891, 2529, 2350, 9583, 9383, 2732, 5854, 3369, 471, 2828, 1170, 7736, 7703, 4170, 7952, 3632, 7240, 6292, 7572, 8954, 7702, 4574, 1362, 1715, 5922, 7996, 1802, 6326, 1158, 8042, 1399, 8346, 1396, 2201, 3192, 4807, 6567, 1713, 9634, 4680, 7862, 6808, 6684, 7350, 1999, 7384, 2669, 4163, 3008, 6956, 6606, 5552, 8634, 1058, 7321, 44, 3076, 4447, 7110, 8919, 9091, 1724, 2814, 8677, 1315, 5156, 3598, 6781, 6908, 159, 3314, 5377, 9820, 5661, 236, 639, 1743, 8423, 3884, 5178, 795, 3978, 3263, 8895, 7082, 5903, 2287, 1554, 4434, 5254, 7323, 3668, 6267, 4691, 2224, 504, 2911, 8990, 6139, 9329, 4689, 7579, 9163, 9172, 6696, 6992, 5013, 2303, 4416, 1935, 7980, 9076, 6770, 4517, 9307, 3439, 4957, 6023, 9999, 8429, 8544, 6853, 332, 2472, 6310, 1265, 2261, 4102, 1443, 28, 5891, 2557, 661, 5790, 1793, 549, 561, 6362, 4573, 9562, 9847, 5950, 9354, 2271, 3807, 9364, 3738, 1150, 5245, 3083, 4708, 1350, 9928, 4612, 3622, 7099, 5022, 7512, 194, 8340, 7776, 6339, 1462, 5789, 520, 9242, 4049, 6442, 2016, 3825, 216, 8122, 9875, 2374, 9069, 1934, 3492, 7238, 2544, 4923, 1851, 5003, 1335, 6709, 2889, 9117, 5569, 9920, 5436, 7370, 5593, 2096, 48, 8456, 2934, 807, 7877, 4177, 3246, 6380, 2280, 5201, 9442, 600, 702, 7428, 6400, 6917, 4995, 9276, 4065, 373, 3051, 2365, 6475, 7783, 9546, 9025, 4523, 410, 3902, 4685, 640, 4660, 2079, 7987, 5636, 1274, 8669, 4190, 681, 2892, 7181, 1120, 6265, 8832, 7721, 9388, 9416, 4278, 331, 9089, 7128, 9424, 4864, 3927, 1229, 5335, 338, 6253, 8629, 6689, 9237, 8137, 8887, 5877, 4475, 5325, 2424, 8870, 4188, 2433, 1669, 7739, 8508, 4895, 4704, 5962, 6935, 9137, 2162, 1215, 1402, 2705, 8400, 9686, 5571, 3639, 7138, 6233, 2656, 6883, 470, 599, 5213, 6929, 9788, 3150, 9558, 6248, 2026, 4293, 1564, 5927, 6316, 5269, 1082, 7914, 8853, 149, 6887, 7937, 4184, 3853, 5080, 6352, 7245, 368, 1908, 1018, 5500, 3969, 6061, 3471, 5919, 8995, 6264, 4780, 6745, 8618, 5172, 3554, 1159, 2691, 8349, 320, 5260, 330, 3679, 3475, 3934, 1905, 9727, 1044, 9420, 4074, 4161, 3624, 4545, 6018, 487, 6818, 1004, 375, 1727, 4949, 5983, 2260, 8072, 6377, 789, 5071, 5550, 985, 3633, 1945, 116, 9211, 3925, 8259, 6500, 4885, 9429, 7757, 8753, 8561, 6144, 5682, 6235, 7785, 602, 625, 3793, 4048, 6532, 9159, 727, 7106, 1988, 965, 9883, 9967, 1305, 9265, 732, 2489, 2574, 2700, 6448, 193, 2914, 3107, 1990, 2899, 6573, 3154, 7830, 5387, 4766, 8699, 9732, 7530, 8052, 9220, 6302, 7498, 8504, 2719, 758, 2172, 1763, 212, 9317, 9168, 8700, 7821, 8236, 6676, 7380, 8723, 7764, 9506, 7969, 6494, 9171, 58, 3234, 8208, 8762, 9445, 5848, 8846, 2115, 7341, 9104, 6169, 8648, 3681, 8522, 6391, 5018, 7824, 6796, 7024, 2496, 2341, 6771, 5670, 3665, 7573, 4033, 8206, 8759, 5405, 7779, 9369, 8716, 5028, 223, 3602, 2338, 4881, 4873, 1740, 3647, 506, 9638, 6424, 7143, 4491, 9208, 8728, 6843, 5621, 7751, 3912, 2308, 88, 5578, 1072, 9601, 3870, 1308, 829, 9944, 9632, 1619, 5543, 8708, 2853, 6140, 105, 6098, 9086, 6599, 5519, 5521, 6631, 2752, 383, 9733, 6687, 8530, 8703, 724, 855, 5289, 9114, 5996, 687, 635, 1172, 8246, 3052, 8775, 784, 9921, 5642, 9405, 4252, 7892, 9696, 9844, 9984, 652, 3423, 9782, 6197, 2235, 4479, 4311, 2983, 6978, 870, 190, 4348, 6515, 2689, 9625, 1238, 8909, 6703, 6485, 2454, 7480, 7054, 8963, 8644, 5054, 2302, 5876, 6418, 3671, 4340, 5544, 5843, 4713, 8364, 3826, 7249, 2692, 4482, 3532, 1054, 3875, 1279, 5559, 9787, 4996, 9110, 1267, 9432, 9946, 4922, 5965, 8903, 8229, 780, 9001, 8915, 3558, 3352, 4078, 5929, 2465, 9724, 8736, 3073, 2254, 2052, 6932, 4302, 9945, 1441, 7919, 4395, 2034, 6220, 275, 3960, 9070, 3820, 7326, 4769, 6666, 4055, 3749, 1011, 2443, 4136, 4036, 156, 6904, 2342, 8250, 9968, 3202, 9947, 4147, 2066, 7861, 3132, 1808, 8731, 709, 5545, 3161, 2819, 7188, 8604, 5993, 7302, 7253, 3844, 7888, 361, 7787, 3024, 3555, 1775, 2163, 9661, 4117, 5690, 2490, 9156, 2704, 9579, 1220, 4229, 572, 1516, 7228, 8615, 7113, 9963, 1021, 4846, 4360, 9578, 7974, 5116, 1349, 9627, 1759, 141, 9737, 8837, 3923, 8055, 5913, 8021, 106, 3021, 3589, 4238, 7410, 6846, 5568, 1390, 9750, 3200, 7359, 7818, 244, 6986, 9673, 5553, 6219, 6150, 435, 740, 7373, 5292, 4904, 5884, 1933, 7281, 6054, 7571, 6296, 5327, 9713, 560, 8452, 5001, 8616, 730, 5091, 4778, 6198, 7655, 8314, 7160, 3012, 9915, 7117, 6864, 8293, 3776, 7686, 6778, 920, 9735, 6100, 5016, 112, 8673, 1029, 3218, 298, 79, 273, 1359, 8145, 545, 8409, 4540, 8509, 6293, 881, 8133, 3276, 5654, 9366, 5238, 5097, 4609, 1384, 6963, 9641, 3833, 343, 8737, 5026, 9421, 9308, 9722, 8005, 4318, 349, 4269, 3761, 4602, 1208, 9728, 3417, 4512, 4043, 9390, 279, 4199, 3030, 6712, 466, 1650, 3941, 7906, 7701, 3016, 4331, 2136, 735, 3045, 262, 569, 8829, 1601, 5741, 9043, 6979, 1245, 8983, 3491, 8977, 9051, 6594, 7266, 7710, 5244, 9245, 1379, 7816, 3267, 5616, 2985, 9898, 7429, 8552, 2132, 4231, 8265, 9061, 3499, 8748, 1210, 7201, 629, 5522, 6529, 115, 3020, 9677, 7336, 9675, 3465, 697, 6466, 897, 6236, 1280, 5330, 5497, 9393, 6998, 7923, 4417, 1900, 3147, 7883, 1262, 2481, 4450, 6859, 6114, 8717, 628, 1458, 8861, 3689, 4068, 5953, 6149, 9194, 9426, 2756, 1835, 8413, 3372, 2462, 7267, 4589, 9, 9680, 9843, 4124, 4227, 2736, 8264, 1656, 7901, 7452, 4307, 5322 };

            var res = MergeSort(arr);

            Console.WriteLine(string.Join(" ", res));
        }

        private static int[] MergeSort(int[] arr)
        {
            if (arr.Length <= 1)
            {
                return arr;
            }

            var left = arr.Take(arr.Length / 2).ToArray();
            var right = arr.Skip(arr.Length / 2).ToArray();

            return Merge(MergeSort(left), MergeSort(right));
        }

        private static int[] Merge(int[] left, int[] right)
        {
            var merged = new int[left.Length + right.Length];

            var mergeIdx = 0;
            var leftIdx = 0;
            var rightIdx = 0;

            while (leftIdx < left.Length && rightIdx < right.Length)
            {
                if (left[leftIdx] < right[rightIdx])
                {
                    merged[mergeIdx] = left[leftIdx];
                    leftIdx++;
                }
                else
                {
                    merged[mergeIdx] = right[rightIdx];
                    rightIdx++;
                }

                mergeIdx++;
            }

            while (leftIdx < left.Length)
            {
                merged[mergeIdx] = left[leftIdx];
                leftIdx++;
                mergeIdx++;
            }

            while (rightIdx < right.Length)
            {
                merged[mergeIdx] = right[rightIdx];
                rightIdx++;
                mergeIdx++;
            }

            return merged;
        }
    }
}
